Implementación de Permisos Básicos en xv6

Introducción
Se implementó un sistema de permisos básico en xv6 que incluye soporte para lectura, escritura y atributos inmutables. También se añadió la syscall chmod para modificar dinámicamente los permisos de los archivos desde espacio de usuario.

Cambios Realizados
1. Modificaciones en la estructura de inodos

Se añadió un campo permissions en la estructura de inodos para gestionar permisos de acceso (lectura, escritura y estado inmutable). El valor predeterminado asignado a los archivos nuevos es de lectura/escritura.
2. Verificación de permisos

Se incorporaron validaciones en operaciones críticas como apertura, escritura y modificación de archivos para garantizar que los permisos sean respetados. Si un archivo es inmutable, no se permite modificar ni sus datos ni sus permisos.
3. Implementación de la syscall chmod

La syscall chmod permite a los usuarios cambiar los permisos de un archivo dinámicamente. Si el archivo está marcado como inmutable, la syscall devuelve un error.
4. Pruebas

Se diseñó un programa para probar los permisos:

    Crear un archivo con permisos predeterminados.
    Cambiar los permisos a solo lectura y verificar que no se pueda escribir.
    Establecer el archivo como inmutable y comprobar que no se puedan modificar ni los permisos ni el contenido.

Resultados

Las pruebas confirmaron que:

    Los permisos se respetan durante las operaciones de lectura y escritura.
    Archivos inmutables no permiten modificaciones.
    La syscall chmod funciona según lo esperado para cambiar permisos dinámicamente.

Conclusión

Esta implementación introduce un sistema básico pero funcional de permisos en xv6. El sistema garantiza un control efectivo sobre el acceso a los archivos y sienta las bases para futuras mejoras, como permisos avanzados basados en usuarios o persistencia de atributos en el disco.



